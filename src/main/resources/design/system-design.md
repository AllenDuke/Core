# 系统设计
## 硬件部分
总体原则是对cpu、内存、磁盘（外存）、网络等硬件资源的最大化的合理有效的利用。

### cpu
并发及并发安全（并发控制）。
线程变量共享，线程通信，临界资源安全访问。#LOCK指令。

### 内存
内存管理（内存分配与回收）。应用程序自实现内存管理（内存池），可使得分配与回收的行为更贴合应用自身行为，效率更高（相比操作系统）。

### 磁盘
磁盘顺序读写的速度更快。

### 网络
TCP面向连接。（长连接与短连接）。
UDP，速度快，不可靠。

### 硬件资源之间的配合
#### 数据压缩（cpu与存储）
#### 虚拟内存（内存与磁盘）
#### io模型
#### 数据一致性

## 软件部分
总体原则是高性能、高可用、易维护。

### 高性能
参考硬件部分。
### 高可用
在各种复杂情况下，最大可能地保持软件正常使用。
高并发：高性能、水平/垂直扩展。
掉电：持久性，崩溃恢复。
硬件故障：备份、故障转移。
### 高内聚低耦合
DDD（领域驱动设计）
### 软件设计模式
抽象、建模，单一职责，开闭。
### 可观测
指标上传、监控、告警、故障处理、故障复盘。
